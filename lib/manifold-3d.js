/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/manifold-3d@3.3.2/manifold.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}var n=t,o=r;function i(e){if(n===setTimeout)return setTimeout(e,0);if((n===t||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}"function"==typeof e.setTimeout&&(n=setTimeout),"function"==typeof e.clearTimeout&&(o=clearTimeout);var s,a=[],u=!1,c=-1;function l(){u&&s&&(u=!1,s.length?a=s.concat(a):c=-1,a.length&&f())}function f(){if(!u){var e=i(l);u=!0;for(var t=a.length;t;){for(s=a,a=[];++c<t;)s&&s[c].run();c=-1,t=a.length}s=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===r||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}p.prototype.run=function(){this.fun.apply(null,this.array)};function h(){}var d=h,m=h,y=h,v=h,g=h,b=h,w=h;var $=e.performance||{},T=$.now||$.mozNow||$.msNow||$.oNow||$.webkitNow||function(){return(new Date).getTime()};var P=new Date;var C,_={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new p(e,t)),1!==a.length||u||i(f)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:d,addListener:m,once:y,off:v,removeListener:g,removeAllListeners:b,emit:w,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*T.call($),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-P)/1e3}},A=(C=import.meta.url,async function(e={}){var t,r,n=e,o=new Promise(((e,n)=>{t=e,r=n})),i="object"==typeof window,s="function"==typeof importScripts,a="object"==typeof _&&"object"==typeof _.versions&&"string"==typeof _.versions.node;if(a){const{createRequire:e}=await import("/npm/module/+esm");var u=e(import.meta.url)}var c=!1;n.setup=function(){if(c)return;function e(e,t,r=e=>e){if(t)for(let n of t)e.push_back(r(n));return e}function t(e,t=e=>e){const r=[],n=e.size();for(let o=0;o<n;o++)r.push(t(e.get(o)));return r}function r(t){return t[0].length<3&&(t=[t]),e(new n.Vector2_vec2,t,(t=>e(new n.Vector_vec2,t,(e=>e instanceof Array?{x:e[0],y:e[1]}:e))))}function o(e){for(let t=0;t<e.size();t++)e.get(t).delete();e.delete()}function i(e){return e[0]instanceof Array?{x:e[0][0],y:e[0][1]}:"number"==typeof e[0]?{x:e[0]||0,y:e[1]||0}:e[0]}function s(e){return e[0]instanceof Array?{x:e[0][0],y:e[0][1],z:e[0][2]}:"number"==typeof e[0]?{x:e[0]||0,y:e[1]||0,z:e[2]||0}:e[0]}function a(e){return"EvenOdd"==e?0:"NonZero"==e?1:"Negative"==e?3:2}c=!0,n.initTBB();const u=n.CrossSection;function l(e,t="Positive"){if(e instanceof u)return e;{const n=r(e),i=new u(n,a(t));return o(n),i}}n.CrossSection.prototype.translate=function(...e){return this._Translate(i(e))},n.CrossSection.prototype.scale=function(e){return"number"==typeof e?this._Scale({x:e,y:e}):this._Scale(i([e]))},n.CrossSection.prototype.mirror=function(e){return this._Mirror(i([e]))},n.CrossSection.prototype.warp=function(e){const t=Wt((function(t){const r=[z(t,"double"),z(t+8,"double")];e(r),H(t,r[0],"double"),H(t+8,r[1],"double")}),"vi"),r=this._Warp(t);return Mt(t),r},n.CrossSection.prototype.decompose=function(){const e=this._Decompose(),r=t(e);return e.delete(),r},n.CrossSection.prototype.bounds=function(){const e=this._Bounds();return{min:["x","y"].map((t=>e.min[t])),max:["x","y"].map((t=>e.max[t]))}},n.CrossSection.prototype.offset=function(e,t="Round",r=2,n=0){return this._Offset(e,function(e){return"Round"==e?1:"Miter"==e?2:0}(t),r,n)},n.CrossSection.prototype.simplify=function(e=1e-6){return this._Simplify(e)},n.CrossSection.prototype.extrude=function(e,t=0,r=0,o=[1,1],s=!1){o=i([o]);const a=n._Extrude(this._ToPolygons(),e,t,r,o);return s?a.translate([0,0,-e/2]):a},n.CrossSection.prototype.revolve=function(e=0,t=360){return n._Revolve(this._ToPolygons(),e,t)},n.CrossSection.prototype.add=function(e){return this._add(l(e))},n.CrossSection.prototype.subtract=function(e){return this._subtract(l(e))},n.CrossSection.prototype.intersect=function(e){return this._intersect(l(e))},n.CrossSection.prototype.toPolygons=function(){const e=this._ToPolygons(),t=function(e,t=e=>e){const r=[],n=e.size();for(let o=0;o<n;o++){const n=e.get(o),i=n.size(),s=[];for(let e=0;e<i;e++)s.push(t(n.get(e)));r.push(s)}return r}(e,(e=>[e.x,e.y]));return e.delete(),t},n.Manifold.prototype.smoothOut=function(e=60,t=0){return this._SmoothOut(e,t)},n.Manifold.prototype.warp=function(e){const t=Wt((function(t){const r=[z(t,"double"),z(t+8,"double"),z(t+16,"double")];e(r),H(t,r[0],"double"),H(t+8,r[1],"double"),H(t+16,r[2],"double")}),"vi"),r=this._Warp(t);Mt(t);const o=r.status();if("NoError"!==o)throw new n.ManifoldError(o);return r},n.Manifold.prototype.calculateNormals=function(e,t=60){return this._CalculateNormals(e,t)},n.Manifold.prototype.setProperties=function(e,t){const r=this.numProp(),n=Wt((function(n,o,i){const s=[];for(let t=0;t<e;++t)s[t]=z(n+8*t,"double");const a=[];for(let e=0;e<3;++e)a[e]=z(o+8*e,"double");const u=[];for(let e=0;e<r;++e)u[e]=z(i+8*e,"double");t(s,a,u);for(let t=0;t<e;++t)H(n+8*t,s[t],"double")}),"viii"),o=this._SetProperties(e,n);return Mt(n),o},n.Manifold.prototype.translate=function(...e){return this._Translate(s(e))},n.Manifold.prototype.rotate=function(e,t,r){return Array.isArray(e)?this._Rotate(...e):this._Rotate(e,t||0,r||0)},n.Manifold.prototype.scale=function(e){return"number"==typeof e?this._Scale({x:e,y:e,z:e}):this._Scale(s([e]))},n.Manifold.prototype.mirror=function(e){return this._Mirror(s([e]))},n.Manifold.prototype.trimByPlane=function(e,t=0){return this._TrimByPlane(s([e]),t)},n.Manifold.prototype.slice=function(e=0){const t=this._Slice(e),r=new u(t,a("Positive"));return o(t),r},n.Manifold.prototype.project=function(){const e=this._Project(),t=new u(e,a("Positive"));return o(e),t},n.Manifold.prototype.split=function(e){const r=this._Split(e),n=t(r);return r.delete(),n},n.Manifold.prototype.splitByPlane=function(e,r=0){const n=this._SplitByPlane(s([e]),r),o=t(n);return n.delete(),o},n.Manifold.prototype.decompose=function(){const e=this._Decompose(),r=t(e);return e.delete(),r},n.Manifold.prototype.boundingBox=function(){const e=this._boundingBox();return{min:["x","y","z"].map((t=>e.min[t])),max:["x","y","z"].map((t=>e.max[t]))}};class f{constructor({numProp:e=3,triVerts:t=new Uint32Array,vertProperties:r=new Float32Array,mergeFromVert:n,mergeToVert:o,runIndex:i,runOriginalID:s,faceID:a,halfedgeTangent:u,runTransform:c}={}){this.numProp=e,this.triVerts=t,this.vertProperties=r,this.mergeFromVert=n,this.mergeToVert=o,this.runIndex=i,this.runOriginalID=s,this.faceID=a,this.halfedgeTangent=u,this.runTransform=c}get numTri(){return this.triVerts.length/3}get numVert(){return this.vertProperties.length/this.numProp}get numRun(){return this.runOriginalID.length}merge(){const{changed:e,mesh:t}=n._Merge(this);return Object.assign(this,{...t}),e}verts(e){return this.triVerts.subarray(3*e,3*(e+1))}position(e){return this.vertProperties.subarray(this.numProp*e,this.numProp*e+3)}extras(e){return this.vertProperties.subarray(this.numProp*e+3,this.numProp*(e+1))}tangent(e){return this.halfedgeTangent.subarray(4*e,4*(e+1))}transform(e){const t=new Array(16);for(const r of[0,1,2,3])for(const n of[0,1,2])t[4*r+n]=this.runTransform[12*e+3*r+n];return t[15]=1,t}}function p(e){return function(...t){1==t.length&&(t=t[0]);const r=new n.Vector_crossSection;for(const e of t)r.push_back(l(e));const o=n["_crossSection"+e](r);return r.delete(),o}}n.Mesh=f,n.Manifold.prototype.getMesh=function(e=-1){return new f(this._GetMeshJS(e))},n.ManifoldError=function(e,...t){let r="Unknown error";switch(e){case"NonFiniteVertex":r="Non-finite vertex";break;case"NotManifold":r="Not manifold";break;case"VertexOutOfBounds":r="Vertex index out of bounds";break;case"PropertiesWrongLength":r="Properties have wrong length";break;case"MissingPositionProperties":r="Less than three properties";break;case"MergeVectorsDifferentLengths":r="Merge vectors have different lengths";break;case"MergeIndexOutOfBounds":r="Merge index out of bounds";break;case"TransformWrongLength":r="Transform vector has wrong length";break;case"RunIndexWrongLength":r="Run index vector has wrong length";break;case"FaceIDWrongLength":r="Face ID vector has wrong length";case"InvalidConstruction":r="Manifold constructed with invalid parameters"}const n=Error.apply(this,[r,...t]);n.name=this.name="ManifoldError",this.message=n.message,this.stack=n.stack,this.code=e},n.ManifoldError.prototype=Object.create(Error.prototype,{constructor:{value:n.ManifoldError,writable:!0,configurable:!0}}),n.CrossSection=function(e,t="Positive"){const n=r(e),i=new u(n,a(t));return o(n),i},n.CrossSection.ofPolygons=function(e,t="Positive"){return new n.CrossSection(e,t)},n.CrossSection.square=function(...e){let t;t=0==e.length?{x:1,y:1}:"number"==typeof e[0]?{x:e[0],y:e[0]}:i(e);const r=e[1]||!1;return n._Square(t,r)},n.CrossSection.circle=function(e,t=0){return n._Circle(e,t)},n.CrossSection.compose=p("Compose"),n.CrossSection.union=p("UnionN"),n.CrossSection.difference=p("DifferenceN"),n.CrossSection.intersection=p("IntersectionN"),n.CrossSection.hull=function(...t){1==t.length&&(t=t[0]);let r=new n.Vector_vec2;for(const o of t)if(o instanceof u)n._crossSectionCollectVertices(r,o);else if(o instanceof Array&&2==o.length&&"number"==typeof o[0])r.push_back({x:o[0],y:o[1]});else if(o.x)r.push_back(o);else{const t=2==o[0].length&&"number"==typeof o[0][0]||o[0].x?[o]:o;for(const n of t)e(r,n,(e=>e instanceof Array?{x:e[0],y:e[1]}:e))}const o=n._crossSectionHullPoints(r);return r.delete(),o},n.CrossSection.prototype=Object.create(u.prototype),Object.defineProperty(n.CrossSection,Symbol.hasInstance,{get:()=>e=>e instanceof u});const h=n.Manifold;function d(e){return function(...t){1==t.length&&(t=t[0]);const r=new n.Vector_manifold;for(const e of t)r.push_back(e);const o=n["_manifold"+e+"N"](r);return r.delete(),o}}n.Manifold=function(e){const t=new h(e),r=t.status();if("NoError"!==r)throw new n.ManifoldError(r);return t},n.Manifold.ofMesh=function(e){return new n.Manifold(e)},n.Manifold.tetrahedron=function(){return n._Tetrahedron()},n.Manifold.cube=function(...e){let t;t=0==e.length?{x:1,y:1,z:1}:"number"==typeof e[0]?{x:e[0],y:e[0],z:e[0]}:s(e);const r=e[1]||!1;return n._Cube(t,r)},n.Manifold.cylinder=function(e,t,r=-1,o=0,i=!1){return n._Cylinder(e,t,r,o,i)},n.Manifold.sphere=function(e,t=0){return n._Sphere(e,t)},n.Manifold.smooth=function(t,r=[]){const o=new n.Vector_smoothness;e(o,r);const i=n._Smooth(t,o);return o.delete(),i},n.Manifold.extrude=function(e,t,r=0,o=0,i=[1,1],s=!1){return(e instanceof u?e:n.CrossSection(e,"Positive")).extrude(t,r,o,i,s)},n.Manifold.revolve=function(e,t=0,r=360){return(e instanceof u?e:n.CrossSection(e,"Positive")).revolve(t,r)},n.Manifold.reserveIDs=function(e){return n._ReserveIDs(e)},n.Manifold.compose=function(t){const r=new n.Vector_manifold;e(r,t);const o=n._manifoldCompose(r);return r.delete(),o},n.Manifold.union=d("Union"),n.Manifold.difference=d("Difference"),n.Manifold.intersection=d("Intersection"),n.Manifold.levelSet=function(e,t,r,o=0,i=-1){const s={min:{x:t.min[0],y:t.min[1],z:t.min[2]},max:{x:t.max[0],y:t.max[1],z:t.max[2]}},a=Wt((function(t){const r=z(t,"double"),n=z(t+8,"double"),o=z(t+16,"double");return e([r,n,o])}),"di"),u=n._LevelSet(a,s,r,o,i);return Mt(a),u},n.Manifold.hull=function(...t){1==t.length&&(t=t[0]);let r=new n.Vector_vec3;for(const o of t)o instanceof h?n._manifoldCollectVertices(r,o):o instanceof Array&&3==o.length&&"number"==typeof o[0]?r.push_back({x:o[0],y:o[1],z:o[2]}):o.x?r.push_back(o):e(r,o,(e=>e instanceof Array?{x:e[0],y:e[1],z:e[2]}:e));const o=n._manifoldHullPoints(r);return r.delete(),o},n.Manifold.prototype=Object.create(h.prototype),Object.defineProperty(n.Manifold,Symbol.hasInstance,{get:()=>e=>e instanceof h}),n.triangulate=function(e,i=-1,s=!0){const a=r(e),u=t(n._Triangulate(a,i,s),(e=>[e[0],e[1],e[2]]));return o(a),u}};var l,f,p=Object.assign({},n),h="";if(a){var d=u("fs"),m=u("path");h=u("url").fileURLToPath(new URL("./",import.meta.url)),f=e=>(e=D(e)?new URL(e):m.normalize(e),d.readFileSync(e)),l=(e,t=!0)=>(e=D(e)?new URL(e):m.normalize(e),new Promise(((r,n)=>{d.readFile(e,t?void 0:"utf8",((e,o)=>{e?n(e):r(t?o.buffer:o)}))}))),!n.thisProgram&&_.argv.length>1&&_.argv[1].replace(/\\/g,"/"),_.argv.slice(2)}else(i||s)&&(s?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),C&&(h=C),h=h.startsWith("blob:")?"":h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1),s&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),l=e=>D(e)?new Promise(((t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{(200==n.status||0==n.status&&n.response)&&r(n.response),t(n.status)},n.onerror=t,n.send(null)})):fetch(e,{credentials:"same-origin"}).then((e=>e.ok?e.arrayBuffer():Promise.reject(new Error(e.status+" : "+e.url)))));n.print||console.log.bind(console);var y,v,g=n.printErr||console.error.bind(console);Object.assign(n,p),p=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit,n.wasmBinary&&(y=n.wasmBinary);var b,w,$,T,P,A,S,x,k=!1;function W(){var e=v.buffer;n.HEAP8=b=new Int8Array(e),n.HEAP16=$=new Int16Array(e),n.HEAPU8=w=new Uint8Array(e),n.HEAPU16=T=new Uint16Array(e),n.HEAP32=P=new Int32Array(e),n.HEAPU32=A=new Uint32Array(e),n.HEAPF32=S=new Float32Array(e),n.HEAPF64=x=new Float64Array(e)}var M=[],E=[],O=[],F=0,V=null;function R(e){n.onAbort?.(e),g(e="Aborted("+e+")"),k=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}var j,I=e=>e.startsWith("data:application/octet-stream;base64,"),D=e=>e.startsWith("file://");function N(){if(n.locateFile){var e="manifold.wasm";return I(e)?e:(t=e,n.locateFile?n.locateFile(t,h):h+t)}var t;return new URL("manifold.wasm",import.meta.url).href}function U(e){if(e==j&&y)return new Uint8Array(y);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}function B(e,t,r){return function(e){return y?Promise.resolve().then((()=>U(e))):l(e).then((e=>new Uint8Array(e)),(()=>U(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then(r,(e=>{g(`failed to asynchronously prepare wasm: ${e}`),R(e)}))}var L=e=>{for(;e.length>0;)e.shift()(n)};function z(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return b[e>>>0];case"i16":return $[e>>>1>>>0];case"i32":return P[e>>>2>>>0];case"i64":R("to do getValue(i64) use WASM_BIGINT");case"float":return S[e>>>2>>>0];case"double":return x[e>>>3>>>0];case"*":return A[e>>>2>>>0];default:R(`invalid type for getValue: ${t}`)}}function H(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":b[e>>>0]=t;break;case"i16":$[e>>>1>>>0]=t;break;case"i32":P[e>>>2>>>0]=t;break;case"i64":R("to do setValue(i64) use WASM_BIGINT");case"float":S[e>>>2>>>0]=t;break;case"double":x[e>>>3>>>0]=t;break;case"*":A[e>>>2>>>0]=t;break;default:R(`invalid type for setValue: ${r}`)}}n.noExitRuntime;class q{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){A[this.ptr+4>>>2>>>0]=e}get_type(){return A[this.ptr+4>>>2>>>0]}set_destructor(e){A[this.ptr+8>>>2>>>0]=e}get_destructor(){return A[this.ptr+8>>>2>>>0]}set_caught(e){e=e?1:0,b[this.ptr+12>>>0]=e}get_caught(){return 0!=b[this.ptr+12>>>0]}set_rethrown(e){e=e?1:0,b[this.ptr+13>>>0]=e}get_rethrown(){return 0!=b[this.ptr+13>>>0]}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){A[this.ptr+16>>>2>>>0]=e}get_adjusted_ptr(){return A[this.ptr+16>>>2>>>0]}get_exception_ptr(){if(It(this.get_type()))return A[this.excPtr>>>2>>>0];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}var G={},J=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function X(e){return this.fromWireType(A[e>>>2>>>0])}var Z,K,Q,Y={},ee={},te={},re=e=>{throw new Z(e)},ne=(e,t,r)=>{function n(t){var n=r(t);n.length!==e.length&&re("Mismatched type converter count");for(var o=0;o<e.length;++o)se(e[o],n[o])}e.forEach((function(e){te[e]=t}));var o=new Array(t.length),i=[],s=0;t.forEach(((e,t)=>{ee.hasOwnProperty(e)?o[t]=ee[e]:(i.push(e),Y.hasOwnProperty(e)||(Y[e]=[]),Y[e].push((()=>{o[t]=ee[e],++s===i.length&&n(o)})))})),0===i.length&&n(o)},oe=e=>{for(var t="",r=e;w[r>>>0];)t+=K[w[r++>>>0]];return t},ie=e=>{throw new Q(e)};function se(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(e,t,r={}){var n=t.name;if(e||ie(`type "${n}" must have a positive integer typeid pointer`),ee.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;ie(`Cannot register type '${n}' twice`)}if(ee[e]=t,delete te[e],Y.hasOwnProperty(e)){var o=Y[e];delete Y[e],o.forEach((e=>e()))}}(e,t,r)}var ae,ue=8,ce=e=>{ie(e.$$.ptrType.registeredClass.name+" instance already deleted")},le=!1,fe=e=>{},pe=e=>{e.count.value-=1,0===e.count.value&&(e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)})(e)},he=(e,t,r)=>{if(t===r)return e;if(void 0===r.baseClass)return null;var n=he(e,t,r.baseClass);return null===n?null:r.downcast(n)},de={},me=()=>Object.keys(we).length,ye=()=>{var e=[];for(var t in we)we.hasOwnProperty(t)&&e.push(we[t]);return e},ve=[],ge=()=>{for(;ve.length;){var e=ve.pop();e.$$.deleteScheduled=!1,e.delete()}},be=e=>{ae=e,ve.length&&ae&&ae(ge)},we={},$e=(e,t)=>(t=((e,t)=>{for(void 0===t&&ie("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t})(e,t),we[t]),Te=(e,t)=>(t.ptrType&&t.ptr||re("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&re("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Ce(Object.create(e,{$$:{value:t,writable:!0}})));function Pe(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=$e(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?Te(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Te(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i,s=this.registeredClass.getActualType(t),a=de[s];if(!a)return o.call(this);i=this.isConst?a.constPointerType:a.pointerType;var u=he(t,this.registeredClass,i.registeredClass);return null===u?o.call(this):this.isSmartPointer?Te(i.registeredClass.instancePrototype,{ptrType:i,ptr:u,smartPtrType:this,smartPtr:e}):Te(i.registeredClass.instancePrototype,{ptrType:i,ptr:u})}var Ce=e=>"undefined"==typeof FinalizationRegistry?(Ce=e=>e,e):(le=new FinalizationRegistry((e=>{pe(e.$$)})),Ce=e=>{var t=e.$$;if(t.smartPtr){var r={$$:t};le.register(e,r,e)}return e},fe=e=>le.unregister(e),Ce(e));function _e(){}var Ae=(e,t)=>Object.defineProperty(t,"name",{value:e}),Se=(e,t,r)=>{if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(...n){return e[t].overloadTable.hasOwnProperty(n.length)||ie(`Function '${r}' called with an invalid number of arguments (${n.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[n.length].apply(this,n)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},xe=(e,t,r)=>{n.hasOwnProperty(e)?((void 0===r||void 0!==n[e].overloadTable&&void 0!==n[e].overloadTable[r])&&ie(`Cannot register public name '${e}' twice`),Se(n,e,e),n.hasOwnProperty(r)&&ie(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),n[e].overloadTable[r]=t):(n[e]=t,void 0!==r&&(n[e].numArguments=r))};function ke(e,t,r,n,o,i,s,a){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=i,this.upcast=s,this.downcast=a,this.pureVirtualFunctions=[]}var We=(e,t,r)=>{for(;t!==r;)t.upcast||ie(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Me(e,t){if(null===t)return this.isReference&&ie(`null is not a valid ${this.name}`),0;t.$$||ie(`Cannot pass "${ut(t)}" as a ${this.name}`),t.$$.ptr||ie(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass;return We(t.$$.ptr,r,this.registeredClass)}function Ee(e,t){var r;if(null===t)return this.isReference&&ie(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t&&t.$$||ie(`Cannot pass "${ut(t)}" as a ${this.name}`),t.$$.ptr||ie(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&ie(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=We(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&ie("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:ie(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var o=t.clone();r=this.rawShare(r,Ye.toHandle((()=>o.delete()))),null!==e&&e.push(this.rawDestructor,r)}break;default:ie("Unsupporting sharing policy")}return r}function Oe(e,t){if(null===t)return this.isReference&&ie(`null is not a valid ${this.name}`),0;t.$$||ie(`Cannot pass "${ut(t)}" as a ${this.name}`),t.$$.ptr||ie(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&ie(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass;return We(t.$$.ptr,r,this.registeredClass)}function Fe(e,t,r,n,o,i,s,a,u,c,l){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=s,this.rawGetPointee=a,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,o||void 0!==t.baseClass?this.toWireType=Ee:n?(this.toWireType=Me,this.destructorFunction=null):(this.toWireType=Oe,this.destructorFunction=null)}var Ve,Re,je=(e,t,r)=>{n.hasOwnProperty(e)||re("Replacing nonexistent public symbol"),void 0!==n[e].overloadTable&&void 0!==r?n[e].overloadTable[r]=t:(n[e]=t,n[e].argCount=r)},Ie=e=>Ve.get(e),De=(e,t,r=[])=>{if(e.includes("j"))return((e,t,r)=>(e=e.replace(/p/g,"i"),(0,n["dynCall_"+e])(t,...r)))(e,t,r);var o=Ie(t)(...r);return"p"==e[0]?o>>>0:o},Ne=(e,t)=>(...r)=>De(e,t,r),Ue=(e,t)=>{var r=(e=oe(e)).includes("j")||e.includes("p")?Ne(e,t):Ie(t);return"function"!=typeof r&&ie(`unknown function pointer with signature ${e}: ${t}`),r},Be=e=>{var t=Vt(e),r=oe(t);return jt(t),r},Le=(e,t)=>{var r=[],n={};throw t.forEach((function e(t){n[t]||ee[t]||(te[t]?te[t].forEach(e):(r.push(t),n[t]=!0))})),new Re(`${e}: `+r.map(Be).join([", "]))},ze=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(A[t+4*n>>>2>>>0]);return r};function He(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}function qe(e,t){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var r=Ae(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,o=e.apply(n,t);return o instanceof Object?o:n}function Ge(e,t,r,n,o,i){var s=t.length;s<2&&ie("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,u=He(t),c="void"!==t[0].name,l=[e,ie,n,o,J,t[0],t[1]],f=0;f<s-2;++f)l.push(t[f+2]);if(!u)for(f=a?1:2;f<t.length;++f)null!==t[f].destructorFunction&&l.push(t[f].destructorFunction);let[p,h]=function(e,t,r,n){for(var o=He(e),i=e.length,s="",a="",u=0;u<i-2;++u)s+=(0!==u?", ":"")+"arg"+u,a+=(0!==u?", ":"")+"arg"+u+"Wired";var c=`\n        return function (${s}) {\n        if (arguments.length !== ${i-2}) {\n          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${i-2}');\n        }`;o&&(c+="var destructors = [];\n");var l=o?"destructors":"null",f=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];for(t&&(c+="var thisWired = classParam['toWireType']("+l+", this);\n"),u=0;u<i-2;++u)c+="var arg"+u+"Wired = argType"+u+"['toWireType']("+l+", arg"+u+");\n",f.push("argType"+u);if(t&&(a="thisWired"+(a.length>0?", ":"")+a),c+=(r||n?"var rv = ":"")+"invoker(fn"+(a.length>0?", ":"")+a+");\n",o)c+="runDestructors(destructors);\n";else for(u=t?1:2;u<e.length;++u){var p=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==e[u].destructorFunction&&(c+=`${p}_dtor(${p});\n`,f.push(`${p}_dtor`))}return r&&(c+="var ret = retType['fromWireType'](rv);\nreturn ret;\n"),[f,c+="}\n"]}(t,a,c,i);p.push(h);var d=qe(Function,p)(...l);return Ae(e,d)}var Je=e=>{const t=(e=e.trim()).indexOf("(");return-1!==t?e.substr(0,t):e},Xe=[],Ze=[];function Ke(e){(e>>>=0)>9&&0==--Ze[e+1]&&(Ze[e]=void 0,Xe.push(e))}var Qe=()=>Ze.length/2-5-Xe.length,Ye={toValue:e=>(e||ie("Cannot use deleted val. handle = "+e),Ze[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=Xe.pop()||Ze.length;return Ze[t]=e,Ze[t+1]=1,t}}}},et={name:"emscripten::val",fromWireType:e=>{var t=Ye.toValue(e);return Ke(e),t},toWireType:(e,t)=>Ye.toHandle(t),argPackAdvance:ue,readValueFromPointer:X,destructorFunction:null};function tt(e){return se(e>>>=0,et)}var rt,nt,ot,it,st=(e,t,r)=>{switch(t){case 1:return r?function(e){return this.fromWireType(b[e>>>0])}:function(e){return this.fromWireType(w[e>>>0])};case 2:return r?function(e){return this.fromWireType($[e>>>1>>>0])}:function(e){return this.fromWireType(T[e>>>1>>>0])};case 4:return r?function(e){return this.fromWireType(P[e>>>2>>>0])}:function(e){return this.fromWireType(A[e>>>2>>>0])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},at=(e,t)=>{var r=ee[e];return void 0===r&&ie(`${t} has unknown type ${Be(e)}`),r},ut=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},ct=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(S[e>>>2>>>0])};case 8:return function(e){return this.fromWireType(x[e>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},lt=(e,t,r)=>{switch(t){case 1:return r?e=>b[e>>>0]:e=>w[e>>>0];case 2:return r?e=>$[e>>>1>>>0]:e=>T[e>>>1>>>0];case 4:return r?e=>P[e>>>2>>>0]:e=>A[e>>>2>>>0];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},ft="undefined"!=typeof TextDecoder?new TextDecoder:void 0,pt=(e,t)=>(e>>>=0)?((e,t,r)=>{for(var n=(t>>>=0)+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.buffer&&ft)return ft.decode(e.subarray(t,o));for(var i="";t<o;){var s=e[t++];if(128&s){var a=63&e[t++];if(192!=(224&s)){var u=63&e[t++];if((s=224==(240&s)?(15&s)<<12|a<<6|u:(7&s)<<18|a<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(s);else{var c=s-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&s)<<6|a)}else i+=String.fromCharCode(s)}return i})(w,e,t):"",ht="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,dt=(e,t)=>{for(var r=e,n=r>>1,o=n+t/2;!(n>=o)&&T[n>>>0];)++n;if((r=n<<1)-e>32&&ht)return ht.decode(w.subarray(e>>>0,r>>>0));for(var i="",s=0;!(s>=t/2);++s){var a=$[e+2*s>>>1>>>0];if(0==a)break;i+=String.fromCharCode(a)}return i},mt=(e,t,r)=>{if(r??=2147483647,r<2)return 0;for(var n=t,o=(r-=2)<2*e.length?r/2:e.length,i=0;i<o;++i){var s=e.charCodeAt(i);$[t>>>1>>>0]=s,t+=2}return $[t>>>1>>>0]=0,t-n},yt=e=>2*e.length,vt=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var o=P[e+4*r>>>2>>>0];if(0==o)break;if(++r,o>=65536){var i=o-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(o)}return n},gt=(e,t,r)=>{if(t>>>=0,r??=2147483647,r<4)return 0;for(var n=t,o=n+r-4,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),P[t>>>2>>>0]=s,(t+=4)+4>o)break}return P[t>>>2>>>0]=0,t-n},bt=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},wt=(e,t,r)=>{var n=[],o=e.toWireType(n,r);return n.length&&(A[t>>>2>>>0]=Ye.toHandle(n)),o},$t={},Tt=e=>{var t=$t[e];return void 0===t?oe(e):t},Pt=[],Ct=e=>{var t=(e-v.buffer.byteLength+65535)/65536;try{return v.grow(t),W(),1}catch(e){}},_t=(e,t)=>{e<128?t.push(e):t.push(e%128|128,e>>7)},At=(e,t)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((e=>{for(var t={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},r={parameters:[],results:"v"==e[0]?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]);return r})(t),e);var r=[1];((e,t)=>{var r=e.slice(0,1),n=e.slice(1),o={i:127,p:127,j:126,f:125,d:124,e:111};t.push(96),_t(n.length,t);for(var i=0;i<n.length;++i)t.push(o[n[i]]);"v"==r?t.push(0):t.push(1,o[r])})(t,r);var n=[0,97,115,109,1,0,0,0,1];_t(r.length,n),n.push(...r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(o,{e:{f:e}}).exports.f},St=e=>(rt||(rt=new WeakMap,((e,t)=>{if(rt)for(var r=e;r<e+t;r++){var n=Ie(r);n&&rt.set(n,r)}})(0,Ve.length)),rt.get(e)||0),xt=[],kt=(e,t)=>Ve.set(e,t),Wt=(e,t)=>{var r=St(e);if(r)return r;var n=(()=>{if(xt.length)return xt.pop();try{Ve.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return Ve.length-1})();try{kt(n,e)}catch(r){if(!(r instanceof TypeError))throw r;var o=At(e,t);kt(n,o)}return rt.set(e,n),n},Mt=e=>{rt.delete(Ie(e)),kt(e,null),xt.push(e)};Z=n.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},(()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);K=e})(),Q=n.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Object.assign(_e.prototype,{isAliasOf(e){if(!(this instanceof _e))return!1;if(!(e instanceof _e))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,o=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return t===n&&r===o},clone(){if(this.$$.ptr||ce(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,t=Ce(Object.create(Object.getPrototypeOf(this),{$$:{value:(e=this.$$,{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType})}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||ce(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ie("Object already scheduled for deletion"),fe(this),pe(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||ce(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ie("Object already scheduled for deletion"),ve.push(this),1===ve.length&&ae&&ae(ge),this.$$.deleteScheduled=!0,this}}),n.getInheritedInstanceCount=me,n.getLiveInheritedInstances=ye,n.flushPendingDeletes=ge,n.setDelayFunction=be,Object.assign(Fe.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:ue,readValueFromPointer:X,fromWireType:Pe}),Re=n.UnboundTypeError=(nt=Error,(it=Ae(ot="UnboundTypeError",(function(e){this.name=ot,this.message=e;var t=new Error(e).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}))).prototype=Object.create(nt.prototype),it.prototype.constructor=it,it.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},it),Ze.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=Qe;var Et,Ot={i:function(e,t,r){throw t>>>=0,r>>>=0,new q(e>>>=0).init(t,r),e},D:()=>{R("")},n:function(e){var t=G[e>>>=0];delete G[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields,i=o.map((e=>e.getterReturnType)).concat(o.map((e=>e.setterArgumentType)));ne([e],i,(e=>{var i={};return o.forEach(((t,r)=>{var n=t.fieldName,s=e[r],a=t.getter,u=t.getterContext,c=e[r+o.length],l=t.setter,f=t.setterContext;i[n]={read:e=>s.fromWireType(a(u,e)),write:(e,t)=>{var r=[];l(f,e,c.toWireType(r,t)),J(r)}}})),[{name:t.name,fromWireType:e=>{var t={};for(var r in i)t[r]=i[r].read(e);return n(e),t},toWireType:(e,t)=>{for(var o in i)if(!(o in t))throw new TypeError(`Missing field: "${o}"`);var s=r();for(o in i)i[o].write(s,t[o]);return null!==e&&e.push(n,s),s},argPackAdvance:ue,readValueFromPointer:X,destructorFunction:n}]}))},C:function(e,t,r,n,o){},H:function(e,t,r,n){se(e>>>=0,{name:t=oe(t>>>=0),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:n},argPackAdvance:ue,readValueFromPointer:function(e){return this.fromWireType(w[e>>>0])},destructorFunction:null})},h:function(e,t,r,n,o,i,s,a,u,c,l,f,p){e>>>=0,t>>>=0,r>>>=0,n>>>=0,o>>>=0,i>>>=0,s>>>=0,a>>>=0,u>>>=0,c>>>=0,f>>>=0,p>>>=0,l=oe(l>>>=0),i=Ue(o,i),a&&=Ue(s,a),c&&=Ue(u,c),p=Ue(f,p);var h=(e=>{if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?`_${e}`:e})(l);xe(h,(function(){Le(`Cannot construct ${l} due to unbound types`,[n])})),ne([e,t,r],n?[n]:[],(t=>{var r,o;t=t[0],o=n?(r=t.registeredClass).instancePrototype:_e.prototype;var s=Ae(l,(function(...e){if(Object.getPrototypeOf(this)!==u)throw new Q("Use 'new' to construct "+l);if(void 0===f.constructor_body)throw new Q(l+" has no accessible constructor");var t=f.constructor_body[e.length];if(void 0===t)throw new Q(`Tried to invoke ctor of ${l} with invalid number of parameters (${e.length}) - expected (${Object.keys(f.constructor_body).toString()}) parameters instead!`);return t.apply(this,e)})),u=Object.create(o,{constructor:{value:s}});s.prototype=u;var f=new ke(l,s,u,p,r,i,a,c);f.baseClass&&(f.baseClass.__derivedClasses??=[],f.baseClass.__derivedClasses.push(f));var d=new Fe(l,f,!0,!1,!1),m=new Fe(l+"*",f,!1,!1,!1),y=new Fe(l+" const*",f,!1,!0,!1);return de[e]={pointerType:m,constPointerType:y},je(h,s),[d,m,y]}))},g:function(e,t,r,n,o,i){e>>>=0,n>>>=0,o>>>=0,i>>>=0;var s=ze(t,r>>>=0);o=Ue(n,o),ne([],[e],(e=>{var r=`constructor ${(e=e[0]).name}`;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Q(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[t-1]=()=>{Le(`Cannot construct ${e.name} due to unbound types`,s)},ne([],s,(n=>(n.splice(1,0,null),e.registeredClass.constructor_body[t-1]=Ge(r,n,null,o,i),[]))),[]}))},a:function(e,t,r,n,o,i,s,a,u){e>>>=0,t>>>=0,o>>>=0,i>>>=0,s>>>=0;var c=ze(r,n>>>=0);t=oe(t),t=Je(t),i=Ue(o,i),ne([],[e],(e=>{var n=`${(e=e[0]).name}.${t}`;function o(){Le(`Cannot call ${n} due to unbound types`,c)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),a&&e.registeredClass.pureVirtualFunctions.push(t);var l=e.registeredClass.instancePrototype,f=l[t];return void 0===f||void 0===f.overloadTable&&f.className!==e.name&&f.argCount===r-2?(o.argCount=r-2,o.className=e.name,l[t]=o):(Se(l,t,n),l[t].overloadTable[r-2]=o),ne([],c,(o=>{var a=Ge(n,o,e,i,s,u);return void 0===l[t].overloadTable?(a.argCount=r-2,l[t]=a):l[t].overloadTable[r-2]=a,[]})),[]}))},G:tt,t:function(e,t,r,n){function o(){}e>>>=0,r>>>=0,t=oe(t>>>=0),o.values={},se(e,{name:t,constructor:o,fromWireType:function(e){return this.constructor.values[e]},toWireType:(e,t)=>t.value,argPackAdvance:ue,readValueFromPointer:st(t,r,n),destructorFunction:null}),xe(t,o)},e:function(e,t,r){t>>>=0;var n=at(e>>>=0,"enum");t=oe(t);var o=n.constructor,i=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:Ae(`${n.name}_${t}`,(function(){}))}});o.values[r]=i,o[t]=i},x:function(e,t,r){r>>>=0,se(e>>>=0,{name:t=oe(t>>>=0),fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:ue,readValueFromPointer:ct(t,r),destructorFunction:null})},c:function(e,t,r,n,o,i,s){e>>>=0,n>>>=0,o>>>=0,i>>>=0;var a=ze(t,r>>>=0);e=oe(e),e=Je(e),o=Ue(n,o),xe(e,(function(){Le(`Cannot call ${e} due to unbound types`,a)}),t-1),ne([],a,(r=>{var n=[r[0],null].concat(r.slice(1));return je(e,Ge(e,n,null,o,i,s),t-1),[]}))},j:function(e,t,r,n,o){e>>>=0,r>>>=0,t=oe(t>>>=0);var i=e=>e;if(0===n){var s=32-8*r;i=e=>e<<s>>>s}var a=t.includes("unsigned");se(e,{name:t,fromWireType:i,toWireType:a?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:ue,readValueFromPointer:lt(t,r,0!==n),destructorFunction:null})},f:function(e,t,r){r>>>=0;var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=A[e>>>2>>>0],r=A[e+4>>>2>>>0];return new n(b.buffer,r,t)}se(e>>>=0,{name:r=oe(r),fromWireType:o,argPackAdvance:ue,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},k:function(e,t){tt(e>>>=0)},w:function(e,t){e>>>=0;var r="std::string"===(t=oe(t>>>=0));se(e,{name:t,fromWireType(e){var t,n=A[e>>>2>>>0],o=e+4;if(r)for(var i=o,s=0;s<=n;++s){var a=o+s;if(s==n||0==w[a>>>0]){var u=pt(i,a-i);void 0===t?t=u:(t+=String.fromCharCode(0),t+=u),i=a+1}}else{var c=new Array(n);for(s=0;s<n;++s)c[s]=String.fromCharCode(w[o+s>>>0]);t=c.join("")}return jt(e),t},toWireType(e,t){var n;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var o="string"==typeof t;o||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ie("Cannot pass non-string to std::string"),n=r&&o?(e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t})(t):t.length;var i=Rt(4+n+1),s=i+4;if(A[i>>>2>>>0]=n,r&&o)((e,t,r,n)=>{if(!(n>0))return 0;r>>>=0;for(var o=r+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(r>=o)break;t[r++>>>0]=s}else if(s<=2047){if(r+1>=o)break;t[r++>>>0]=192|s>>6,t[r++>>>0]=128|63&s}else if(s<=65535){if(r+2>=o)break;t[r++>>>0]=224|s>>12,t[r++>>>0]=128|s>>6&63,t[r++>>>0]=128|63&s}else{if(r+3>=o)break;t[r++>>>0]=240|s>>18,t[r++>>>0]=128|s>>12&63,t[r++>>>0]=128|s>>6&63,t[r++>>>0]=128|63&s}}t[r>>>0]=0})(t,w,s,n+1);else if(o)for(var a=0;a<n;++a){var u=t.charCodeAt(a);u>255&&(jt(s),ie("String has UTF-16 code units that do not fit in 8 bits")),w[s+a>>>0]=u}else for(a=0;a<n;++a)w[s+a>>>0]=t[a];return null!==e&&e.push(jt,i),i},argPackAdvance:ue,readValueFromPointer:X,destructorFunction(e){jt(e)}})},s:function(e,t,r){var n,o,i,s;e>>>=0,t>>>=0,r=oe(r>>>=0),2===t?(n=dt,o=mt,s=yt,i=e=>T[e>>>1>>>0]):4===t&&(n=vt,o=gt,s=bt,i=e=>A[e>>>2>>>0]),se(e,{name:r,fromWireType:e=>{for(var r,o=A[e>>>2>>>0],s=e+4,a=0;a<=o;++a){var u=e+4+a*t;if(a==o||0==i(u)){var c=n(s,u-s);void 0===r?r=c:(r+=String.fromCharCode(0),r+=c),s=u+t}}return jt(e),r},toWireType:(e,n)=>{"string"!=typeof n&&ie(`Cannot pass non-string to C++ string type ${r}`);var i=s(n),a=Rt(4+i+t);return A[a>>>2>>>0]=i/t,o(n,a+4,i+t),null!==e&&e.push(jt,a),a},argPackAdvance:ue,readValueFromPointer:X,destructorFunction(e){jt(e)}})},o:function(e,t,r,n,o,i){t>>>=0,r>>>=0,n>>>=0,o>>>=0,i>>>=0,G[e>>>=0]={name:oe(t),rawConstructor:Ue(r,n),rawDestructor:Ue(o,i),fields:[]}},l:function(e,t,r,n,o,i,s,a,u,c){t>>>=0,r>>>=0,n>>>=0,o>>>=0,i>>>=0,s>>>=0,a>>>=0,u>>>=0,c>>>=0,G[e>>>=0].fields.push({fieldName:oe(t),getterReturnType:r,getter:Ue(n,o),getterContext:i,setterArgumentType:s,setter:Ue(a,u),setterContext:c})},I:function(e,t){se(e>>>=0,{isVoid:!0,name:t=oe(t>>>=0),argPackAdvance:0,fromWireType:()=>{},toWireType:(e,t)=>{}})},F:function(e,t,r){return e>>>=0,t>>>=0,r>>>=0,w.copyWithin(e>>>0,t>>>0,t+r>>>0)},v:function(e,t,r){return e>>>=0,t>>>=0,r>>>=0,e=Ye.toValue(e),t=at(t,"emval::as"),wt(t,r,e)},z:function(e,t,r,n,o){return t>>>=0,r>>>=0,n>>>=0,o>>>=0,(e=Pt[e>>>=0])(t=Ye.toValue(t),t[r=Tt(r)],n,o)},b:Ke,m:function(e,t){return e>>>=0,t>>>=0,(e=Ye.toValue(e))==(t=Ye.toValue(t))},y:function(e,t,r){var n=((e,t)=>{for(var r=new Array(e),n=0;n<e;++n)r[n]=at(A[t+4*n>>>2>>>0],"parameter "+n);return r})(e,t>>>=0),o=n.shift();e--;var i="return function (obj, func, destructorsRef, args) {\n",s=0,a=[];0===r&&a.push("obj");for(var u=["retType"],c=[o],l=0;l<e;++l)a.push("arg"+l),u.push("argType"+l),c.push(n[l]),i+=`  var arg${l} = argType${l}.readValueFromPointer(args${s?"+"+s:""});\n`,s+=n[l].argPackAdvance;i+=`  var rv = ${1===r?"new func":"func.call"}(${a.join(", ")});\n`,o.isVoid||(u.push("emval_returnValue"),c.push(wt),i+="  return emval_returnValue(retType, destructorsRef, rv);\n"),i+="};\n",u.push(i);var f,p,h=qe(Function,u)(...c),d=`methodCaller<(${n.map((e=>e.name)).join(", ")}) => ${o.name}>`;return f=Ae(d,h),p=Pt.length,Pt.push(f),p},B:function(e,t){return e>>>=0,t>>>=0,e=Ye.toValue(e),t=Ye.toValue(t),Ye.toHandle(e[t])},u:function(e){(e>>>=0)>9&&(Ze[e+1]+=1)},q:function(e){return e>>>=0,Ye.toHandle(Tt(e))},A:function(){return Ye.toHandle({})},p:function(e){e>>>=0;var t=Ye.toValue(e);J(t),Ke(e)},r:function(e,t,r){e>>>=0,t>>>=0,r>>>=0,e=Ye.toValue(e),t=Ye.toValue(t),r=Ye.toValue(r),e[t]=r},d:function(e,t){t>>>=0;var r=(e=at(e>>>=0,"_emval_take_value")).readValueFromPointer(t);return Ye.toHandle(r)},E:function(e){e>>>=0;var t=w.length,r=4294901760;if(e>r)return!1;for(var n,o,i=1;i<=4;i*=2){var s=t*(1+.2/i);s=Math.min(s,e+100663296);var a=Math.min(r,(n=Math.max(e,s))+((o=65536)-n%o)%o);if(Ct(a))return!0}return!1}},Ft=function(){var e,t,o,i,s={a:Ot};function u(e,t){var r;return Ft=function(e){e=Object.assign({},e);var t=e=>t=>e(t)>>>0,r=e=>()=>e()>>>0;return e.L=t(e.L),e.N=t(e.N),e._emscripten_stack_alloc=t(e._emscripten_stack_alloc),e.emscripten_stack_get_current=r(e.emscripten_stack_get_current),e}(Ft=e.exports),v=Ft.J,W(),Ve=Ft.M,r=Ft.K,E.unshift(r),function(){if(F--,n.monitorRunDependencies?.(F),0==F&&V){var e=V;V=null,e()}}(),Ft}if(F++,n.monitorRunDependencies?.(F),n.instantiateWasm)try{return n.instantiateWasm(s,u)}catch(e){g(`Module.instantiateWasm callback failed with error: ${e}`),r(e)}return j||(j=N()),(e=y,t=j,o=s,i=function(e){u(e.instance)},e||"function"!=typeof WebAssembly.instantiateStreaming||I(t)||D(t)||a||"function"!=typeof fetch?B(t,o,i):fetch(t,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,o).then(i,(function(e){return g(`wasm streaming compile failed: ${e}`),g("falling back to ArrayBuffer instantiation"),B(t,o,i)}))))).catch(r),{}}(),Vt=e=>(Vt=Ft.L)(e),Rt=e=>(Rt=Ft.N)(e),jt=e=>(jt=Ft.O)(e),It=e=>(It=Ft.P)(e);function Dt(){function e(){Et||(Et=!0,n.calledRun=!0,k||(L(E),t(n),n.onRuntimeInitialized?.(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)e=n.postRun.shift(),O.unshift(e);var e;L(O)}()))}F>0||(function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)e=n.preRun.shift(),M.unshift(e);var e;L(M)}(),F>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),e()}),1)):e()))}if(n.addFunction=Wt,n.removeFunction=Mt,V=function e(){Et||Dt(),Et||(V=e)},n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Dt(),o});export{A as default};
//# sourceMappingURL=/sm/d3ec84e320552e3bb47c55889dcd6a5873f256f7f84e5dac23eea903d3ae21dd.map