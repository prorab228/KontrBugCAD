class Text3DExecutor extends ParametricExecutor{execute(e,t){const{text:n,fontName:o,fontData:s,fontSize:a,depth:r,bevelEnabled:i,bevelThickness:l,bevelSize:c,curveSegments:u,materialType:h,color:E,position:d}=e.parameters;let b;if(s){b=(new THREE.FontLoader).parse(s)}else if(b=t.editor.fontManager?.fonts[o],!b)throw new Error(`Text3D: шрифт "${o}" не найден`);const T=new THREE.TextGeometry(n,{font:b,size:a,height:r,curveSegments:u,bevelEnabled:i,bevelThickness:l,bevelSize:c});T.computeBoundingBox();const p=new THREE.Vector3;let m;switch(T.boundingBox.getCenter(p),T.translate(-p.x,-p.y,-p.z/2),h){case"basic":m=new THREE.MeshBasicMaterial({color:E});break;case"phong":m=new THREE.MeshPhongMaterial({color:E,shininess:100});break;default:m=new THREE.MeshStandardMaterial({color:E,roughness:.7,metalness:.2})}const v=new THREE.Mesh(T,m);return v.position.fromArray(d),v.castShadow=!0,v.receiveShadow=!0,v.userData={type:"text3d",text:n,fontName:o,fontSize:a,depth:r,bevelEnabled:i,bevelThickness:l,bevelSize:c,curveSegments:u,materialType:h,color:E},e.outputs.length>0?v.uuid=e.outputs[0]:e.outputs=[v.uuid],v}}