class GroupExecutor extends ParametricExecutor{execute(o,t){const{childIds:e,groupPosition:r,groupRotation:a,groupScale:n}=o.parameters,u=new THREE.Group;u.name=`Group_${Date.now()}`,r&&u.position.fromArray(r),a&&u.rotation.fromArray(a),n&&u.scale.fromArray(n);for(const o of e){const e=t.objectMap.get(o);if(!e)continue;const r=new THREE.Vector3;e.getWorldPosition(r),e.parent&&e.parent.remove(e),u.add(e);const a=u.worldToLocal(r.clone());e.position.copy(a),e.userData.isPartOfGroup=!0,e.userData.originalGroup=u.uuid}o.outputs.length>0?u.uuid=o.outputs[0]:o.outputs=[u.uuid],u.userData={type:"group",childCount:e.length,childIds:e,name:`Группа (${e.length} объектов)`,createdAt:(new Date).toISOString()};for(const o of e)t.objectMap.delete(o);return u}}