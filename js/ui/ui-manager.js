!function(){"use strict";function e(){document.querySelectorAll(".dropdown-menu.active").forEach(e=>{e.classList.remove("active"),e.style.display="none"})}function t(t){const n=t.target.closest(".dropdown-toggle");if(n){t.preventDefault(),t.stopPropagation();const o=n.closest(".dropdown");if(!o)return;const i=o.querySelector(".dropdown-menu");if(!i)return;i.classList.contains("active")?e():(e(),function(e,t){e.style.visibility="hidden",e.style.display="block";const n=e.offsetWidth,o=e.offsetHeight;e.style.display="none",e.style.visibility="";const i=t.getBoundingClientRect();let s=i.left,d=i.bottom;s+n>window.innerWidth&&(s=window.innerWidth-n-10),s<10&&(s=10),d+o>window.innerHeight&&(d=i.top-o),d<10&&(d=10),e.style.left=s+"px",e.style.top=d+"px",e.style.display="block",e.classList.add("active")}(i,n))}else e()}function n(t){"Escape"===t.key&&e()}function o(){e()}function i(){const e=document.querySelector(".properties-panel"),t=document.getElementById("togglePanelBtn");if(!e||!t)return;window.cadEditor&&window.cadEditor.onWindowResize&&setTimeout(()=>window.cadEditor.onWindowResize(),30),e.classList.toggle("hidden");const n=e.classList.contains("hidden");localStorage.setItem("cad_panel_hidden",n?"true":"false");const o=t.querySelector("i");o&&(o.className=n?"fas fa-chevron-left":"fas fa-chevron-right")}function s(){document.addEventListener("click",t),document.addEventListener("keydown",n),window.addEventListener("resize",o),function(){const e=document.getElementById("togglePanelBtn"),t=document.querySelector(".properties-panel");if(!e||!t)return;e.addEventListener("click",i);const n=localStorage.getItem("cad_panel_hidden"),o=e.querySelector("i");"true"===n?(t.classList.add("hidden"),o&&(o.className="fas fa-chevron-left")):(t.classList.remove("hidden"),o&&(o.className="fas fa-chevron-right")),window.innerWidth<768&&null===n&&(t.classList.add("hidden"),localStorage.setItem("cad_panel_hidden","true"),o&&(o.className="fas fa-chevron-left"))}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s()}();