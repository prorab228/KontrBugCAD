!function(){"use strict";function e(){document.querySelectorAll(".dropdown-menu.active").forEach(e=>{e.classList.remove("active"),e.style.display="none"})}function t(t){const n=t.target.closest(".dropdown-toggle");if(n){t.preventDefault(),t.stopPropagation();const s=n.closest(".dropdown");if(!s)return;const o=s.querySelector(".dropdown-menu");if(!o)return;o.classList.contains("active")?e():(e(),function(e,t){e.style.visibility="hidden",e.style.display="block";const n=e.offsetWidth,s=e.offsetHeight;e.style.display="none",e.style.visibility="";const o=t.getBoundingClientRect();let i=o.left,d=o.bottom;i+n>window.innerWidth&&(i=window.innerWidth-n-10),i<10&&(i=10),d+s>window.innerHeight&&(d=o.top-s),d<10&&(d=10),e.style.left=i+"px",e.style.top=d+"px",e.style.display="block",e.classList.add("active")}(o,n))}else e()}function n(t){"Escape"===t.key&&e()}function s(){e()}const o="cad_panel_hidden";function i(){const e=document.querySelector(".properties-panel"),t=document.getElementById("togglePanelBtn"),n=document.getElementById("settings");if(!e||!t)return;e.classList.toggle("hidden"),n.classList.toggle("hidden");const s=e.classList.contains("hidden");localStorage.setItem(o,s?"true":"false");const i=t.querySelector("i");i&&(i.className=s?"fas fa-chevron-left":"fas fa-chevron-right")}function d(){document.addEventListener("click",t),document.addEventListener("keydown",n),window.addEventListener("resize",s),function(){const e=document.getElementById("togglePanelBtn"),t=document.querySelector(".properties-panel"),n=document.getElementById("settings");if(!e||!t)return;e.addEventListener("click",i);const s=localStorage.getItem(o),d="true"===s;d?(t.classList.add("hidden"),n.classList.add("hidden")):(t.classList.remove("hidden"),n.classList.remove("hidden"));const c=e.querySelector("i");c&&(c.className=d?"fas fa-chevron-left":"fas fa-chevron-right"),null===s&&window.innerWidth<768&&(t.classList.add("hidden"),localStorage.setItem(o,"true"),c&&(c.className="fas fa-chevron-left"))}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d()}();