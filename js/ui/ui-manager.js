!function(){"use strict";function e(){document.querySelectorAll(".dropdown-menu.active").forEach(e=>{e.classList.remove("active"),e.style.display="none"})}function t(t){const n=t.target.closest(".dropdown-toggle");if(n){t.preventDefault(),t.stopPropagation();const o=n.closest(".dropdown");if(!o)return;const s=o.querySelector(".dropdown-menu");if(!s)return;return void(s.classList.contains("active")?e():(e(),function(e,t){e.style.visibility="hidden",e.style.display="block";const n=e.offsetWidth,o=e.offsetHeight;e.style.display="none",e.style.visibility="";const s=t.getBoundingClientRect();let i=s.left,d=s.bottom;i+n>window.innerWidth&&(i=window.innerWidth-n-10),i<10&&(i=10),d+o>window.innerHeight&&(d=s.top-o),d<10&&(d=10),e.style.left=i+"px",e.style.top=d+"px",e.style.display="block",e.classList.add("active")}(s,n)))}t.target.closest(".dropdown-menu.active")||e()}function n(t){"Escape"===t.key&&e()}function o(){e()}const s="cad_panel_hidden";function i(){const e=document.querySelector(".properties-panel"),t=document.getElementById("togglePanelBtn"),n=document.getElementById("settings");if(!e||!t)return;e.classList.toggle("hidden"),n.classList.toggle("hidden");const o=e.classList.contains("hidden");localStorage.setItem(s,o?"true":"false");const i=t.querySelector("i");i&&(i.className=o?"fas fa-chevron-left":"fas fa-chevron-right")}function d(){document.addEventListener("click",t),document.addEventListener("keydown",n),window.addEventListener("resize",o),function(){const e=document.getElementById("togglePanelBtn"),t=document.querySelector(".properties-panel"),n=document.getElementById("settings");if(!e||!t)return;e.addEventListener("click",i);const o=localStorage.getItem(s),d="true"===o;d?(t.classList.add("hidden"),n.classList.add("hidden")):(t.classList.remove("hidden"),n.classList.remove("hidden"));const c=e.querySelector("i");c&&(c.className=d?"fas fa-chevron-left":"fas fa-chevron-right"),null===o&&window.innerWidth<768&&(t.classList.add("hidden"),localStorage.setItem(s,"true"),c&&(c.className="fas fa-chevron-left"))}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d()}();