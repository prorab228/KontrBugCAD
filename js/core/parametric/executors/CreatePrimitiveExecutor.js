import*as THREE from"three";import{ParametricExecutor}from"./ParametricExecutor.js";export class CreatePrimitiveExecutor extends ParametricExecutor{execute(e,t){const{type:r,size:o=25,color:a=8421504,position:n=[0,0,0]}=e.parameters;let i;switch(r){case"cube":default:i=new THREE.BoxGeometry(o,o,o);break;case"sphere":i=new THREE.SphereGeometry(o/2,32,48);break;case"cylinder":i=new THREE.CylinderGeometry(o/2,o/2,o,48);break;case"cone":i=new THREE.ConeGeometry(o/2,o,48);break;case"hexagon":i=new THREE.CylinderGeometry(o/2,o/2,o,6);break;case"torus":i=new THREE.TorusGeometry(o/1.66,o/5,16,100);break;case"plane":i=new THREE.PlaneGeometry(o,o);break;case"pyramid":i=new THREE.ConeGeometry(o/2,o,4);break;case"wedge":i=this._createWedgeGeometry(o,o,o)}i.computeBoundingBox();const s=i.boundingBox,c=s.max.y-s.min.y,E=new THREE.MeshPhongMaterial({color:a}),m=new THREE.Mesh(i,E);m.castShadow=!0,m.receiveShadow=!0;const u=(new THREE.Vector3).fromArray(n);return"plane"!==r&&(u.y+=c/2),m.position.copy(u),"plane"===r&&(m.rotation.x=-Math.PI/2),e.outputs.length>0?m.uuid=e.outputs[0]:e.outputs=[m.uuid],m.userData={type:"primitive",primitiveType:r,size:o,color:a,originalPosition:n},m}_createWedgeGeometry(e,t,r){const o=new THREE.Shape;o.moveTo(-e/2,-r/2),o.lineTo(e/2,-r/2),o.lineTo(e/2,r/2),o.lineTo(-e/2,r/2);const a={depth:t,bevelEnabled:!1,steps:1},n=new THREE.ExtrudeGeometry(o,a);return n.rotateX(Math.PI/2),n.translate(0,t/2,0),n}}