import*as THREE from"three";export class ParametricOperation{constructor(t,e,i=[]){this.id=THREE.MathUtils.generateUUID(),this.type=t,this.parameters=this._cleanParameters(e),this.inputs=i,this.outputs=[],this.timestamp=(new Date).toISOString()}_cleanParameters(t){return JSON.parse(JSON.stringify(t,(t,e)=>e&&e.isVector3?e.toArray():e&&e.isColor?e.getHex():"function"!=typeof e?e:void 0))}serialize(){return{id:this.id,type:this.type,parameters:this.parameters,inputs:this.inputs,outputs:this.outputs,timestamp:this.timestamp}}static deserialize(t){const e=new ParametricOperation(t.type,t.parameters,t.inputs);return e.id=t.id,e.outputs=t.outputs||[],e.timestamp=t.timestamp||(new Date).toISOString(),e}}